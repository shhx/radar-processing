#include <errno.h>
#include <fcntl.h> 
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <termios.h>
#include <unistd.h>
#include <math.h>
#include "../includes/kiss_fft.h"

const float arr[] = {0.0, 0.030674803176636626, 0.06132073630220858, 0.09190895649713272, 0.1224106751992162, 0.15279718525844344, 0.18303988795514095, 0.21311031991609136, 0.24298017990326387, 0.272621355449949, 0.3020059493192281, 0.33110630575987643, 0.3598950365349881, 0.38834504669882625, 0.41642956009763715, 0.4441221445704292, 0.47139673682599764, 0.49822766697278187, 0.524589682678469, 0.5504579729366048, 0.5758081914178453, 0.600616479383869, 0.6248594881423863, 0.6485144010221124, 0.6715589548470183, 0.693971460889654, 0.7157308252838186, 0.7368165688773698, 0.7572088465064845, 0.7768884656732324, 0.7958369046088835, 0.8140363297059483, 0.8314696123025452, 0.8481203448032971, 0.8639728561215867, 0.8790122264286334, 0.8932243011955153, 0.9065957045149153, 0.9191138516900578, 0.9307669610789837, 0.9415440651830208, 0.9514350209690083, 0.9604305194155658, 0.9685220942744173, 0.9757021300385286, 0.9819638691095552, 0.9873014181578584, 0.9917097536690995, 0.9951847266721968, 0.9977230666441916, 0.9993223845883495, 0.9999811752826011, 0.9996988186962042, 0.9984755805732948, 0.996312612182778, 0.9932119492347945, 0.989176509964781, 0.984210092386929, 0.9783173707196277, 0.9715038909862518, 0.9637760657954398, 0.9551411683057707, 0.9456073253805214, 0.9351835099389476, 0.9238795325112867, 0.9117060320054299, 0.8986744656939539, 0.8847970984309379, 0.8700869911087115, 0.8545579883654005, 0.8382247055548382, 0.8211025149911048, 0.8032075314806449, 0.7845565971555751, 0.7651672656224591, 0.7450577854414661, 0.7242470829514669, 0.7027547444572252, 0.6806009977954532, 0.6578066932970787, 0.6343932841636455, 0.6103828062763097, 0.585797857456439, 0.5606615761973361, 0.5349976198870972, 0.5088301425431073, 0.4821837720791229, 0.4550835871263439, 0.42755509343028203, 0.39962419984564707, 0.3713171939518377, 0.34266071731199443, 0.3136817403988914, 0.2844075372112721, 0.2548656596045147, 0.22508391135979283, 0.1950903220161286, 0.16491312048997014, 0.13458070850712628, 0.10412163387205457, 0.07356456359966773, 0.04293825693494102, 0.012271538285720007, -0.01840672990580486, -0.049067674327417724, -0.07968243797142995, -0.110222207293883, -0.1406582393328493, -0.17096188876030097, -0.20110463484209176, -0.23105810828067108, -0.2607941179152756, -0.2902846772544621, -0.3195020308160156, -0.34841868024943456, -0.3770074102164179, -0.4052413140049897, -0.43309381885315185, -0.46053871095824006, -0.48755016014843566, -0.5141027441932216, -0.5401714727298929, -0.5657318107836132, -0.5907597018588739, -0.6152315905806267, -0.6391244448637757, -0.6624157775901718, -0.6850836677727001, -0.7071067811865475, -0.7284643904482252, -0.749136394523459, -0.7691033376455795, -0.7883464276266059, -0.8068475535437992, -0.8245893027850251, -0.8415549774368986, -0.857728610000272, -0.8730949784182899, -0.887639620402854, -0.9013488470460219, -0.9142097557035305, -0.9262102421383114, -0.9373390119125748, -0.9475855910177412, -0.9569403357322088, -0.9653944416976893, -0.9729399522055602, -0.9795697656854405, -0.9852776423889411, -0.9900582102622971, -0.9939069700023561, -0.9968202992911657, -0.9987954562051724, -0.9998305817958234, -0.9999247018391445, -0.9990777277526454, -0.9972904566786902, -0.9945645707342554, -0.99090263542778, -0.9863080972445988, -0.9807852804032304, -0.974339382785576, -0.9669764710448523, -0.9587034748958716, -0.9495281805930368, -0.9394592236021898, -0.9285060804732156, -0.9166790599210428, -0.9039892931234433, -0.890448723244758, -0.8760700941954069, -0.8608669386377673, -0.8448535652497072, -0.8280450452577557, -0.8104571982525949, -0.7921065773002126, -0.7730104533627369, -0.7531867990436126, -0.7326542716724131, -0.7114321957452164, -0.6895405447370672, -0.666999922303638, -0.6438315428897915, -0.6200572117632895, -0.5956993044924332, -0.5707807458869674, -0.5453249884220468, -0.5193559901655895, -0.49289819222978426, -0.4659764957679667, -0.43861623853852766, -0.41084317105790424, -0.3826834323650904, -0.3541635254204905, -0.32531029216226337, -0.29615088824362373, -0.2667127574748986, -0.23702360599436773, -0.20711137619221853, -0.17700422041214905, -0.1467304744553624, -0.11631863091190484, -0.08579731234444028, -0.055195244349689775, -0.024541228522912448, 0.006135884649153987, 0.03680722294135891, 0.0674439195636638, 0.09801714032956002, 0.12849811079379314, 0.15885814333386108, 0.18906866414980555, 0.2191012401568697, 0.24892760574571973, 0.2785196893850532, 0.3078496400415347, 0.33688985339221955, 0.3656129978047739, 0.3939920400610478, 0.4220002707997991, 0.44961132965460654, 0.4767992300633218, 0.5035383837257177, 0.5298036246862945, 0.5555702330196018, 0.5808139580957646, 0.6055110414043253, 0.6296382389149265, 0.6531728429537768, 0.6760927035753157, 0.6983762494089724, 0.7200025079613815, 0.7409511253549588, 0.7612023854842619, 0.7807372285720944, 0.7995372691079047, 0.8175848131515837, 0.8348628749863799, 0.8513551931052649, 0.8670462455156926, 0.8819212643483548, 0.8959662497561849, 0.9091679830905223, 0.9215140393420418, 0.932992798834739, 0.9435934581619603, 0.9533060403541936, 0.9621214042690416, 0.9700312531945439, 0.9770281426577542, 0.9831054874312163, 0.9882575677307495, 0.99247953459871, 0.9957674144676598, 0.9981181129001492, 0.9995294175010931, 1.0, 0.9995294175010931, 0.9981181129001492, 0.9957674144676598, 0.9924795345987101, 0.9882575677307495, 0.9831054874312164, 0.9770281426577545, 0.9700312531945443, 0.9621214042690415, 0.9533060403541939, 0.9435934581619605, 0.9329927988347392, 0.9215140393420423, 0.9091679830905222, 0.8959662497561851, 0.8819212643483552, 0.8670462455156929, 0.8513551931052656, 0.8348628749863807, 0.8175848131515836, 0.7995372691079051, 0.7807372285720947, 0.7612023854842623, 0.7409511253549598, 0.7200025079613813, 0.6983762494089728, 0.6760927035753161, 0.6531728429537772, 0.6296382389149278, 0.6055110414043251, 0.5808139580957644, 0.5555702330196023, 0.529803624686295, 0.5035383837257182, 0.4767992300633231, 0.4496113296546063, 0.4220002707997997, 0.3939920400610484, 0.36561299780477446, 0.33688985339222094, 0.3078496400415344, 0.27851968938505295, 0.24892760574572034, 0.21910124015687027, 0.18906866414980703, 0.15885814333386258, 0.1284981107937929, 0.09801714032956063, 0.06744391956366441, 0.03680722294135952, 0.0061358846491554875, -0.024541228522912725, -0.05519524434969005, -0.08579731234443967, -0.11631863091190422, -0.1467304744553609, -0.17700422041214758, -0.20711137619221878, -0.23702360599436714, -0.266712757474898, -0.2961508882436231, -0.3253102921622619, -0.35416352542049073, -0.38268343236508984, -0.4108431710579037, -0.4386162385385271, -0.46597649576796535, -0.4928981922297829, -0.5193559901655898, -0.5453249884220464, -0.5707807458869669, -0.5956993044924327, -0.6200572117632883, -0.6438315428897917, -0.6669999223036375, -0.6895405447370667, -0.711432195745216, -0.7326542716724121, -0.7531867990436129, -0.7730104533627371, -0.7921065773002123, -0.8104571982525945, -0.8280450452577552, -0.8448535652497065, -0.8608669386377674, -0.8760700941954066, -0.8904487232447578, -0.903989293123443, -0.9166790599210423, -0.9285060804732157, -0.9394592236021899, -0.9495281805930366, -0.9587034748958714, -0.9669764710448518, -0.9743393827855756, -0.9807852804032305, -0.9863080972445987, -0.99090263542778, -0.9945645707342554, -0.9972904566786901, -0.9990777277526454, -0.9999247018391445, -0.9998305817958234, -0.9987954562051724, -0.9968202992911658, -0.9939069700023562, -0.9900582102622971, -0.9852776423889412, -0.9795697656854406, -0.9729399522055603, -0.9653944416976896, -0.9569403357322087, -0.9475855910177411, -0.9373390119125751, -0.9262102421383116, -0.914209755703531, -0.9013488470460226, -0.8876396204028538, -0.8730949784182902, -0.8577286100002723, -0.8415549774368989, -0.824589302785026, -0.8068475535437991, -0.7883464276266063, -0.7691033376455799, -0.7491363945234598, -0.7284643904482259, -0.7071067811865485, -0.6850836677727004, -0.6624157775901719, -0.6391244448637762, -0.6152315905806275, -0.5907597018588752, -0.565731810783613, -0.540171472729893, -0.5141027441932221, -0.4875501601484366, -0.46053871095824095, -0.4330938188531516, -0.4052413140049898, -0.37700741021641854, -0.3484186802494351, -0.3195020308160166, -0.29028467725446355, -0.26079411791527535, -0.23105810828067125, -0.20110463484209237, -0.170961888760302, -0.14065823933285035, -0.11022220729388273, -0.07968243797143011, -0.049067674327418334, -0.01840672990580547, 0.01227153828571895, 0.04293825693493952, 0.07356456359966757, 0.10412163387205439, 0.13458070850712567, 0.1649131204899691, 0.19509032201612714, 0.2250839113597931, 0.2548656596045145, 0.2844075372112715, 0.3136817403988908, 0.34266071731199343, 0.37131719395183627, 0.3996241998456469, 0.42755509343028186, 0.45508358712634334, 0.482183772079122, 0.508830142543106, 0.5349976198870974, 0.5606615761973359, 0.5857978574564385, 0.6103828062763088, 0.6343932841636447, 0.6578066932970776, 0.6806009977954531, 0.7027547444572251, 0.7242470829514666, 0.7450577854414654, 0.7651672656224581, 0.7845565971555754, 0.8032075314806448, 0.8211025149911044, 0.8382247055548376, 0.8545579883654, 0.8700869911087116, 0.8847970984309378, 0.8986744656939537, 0.9117060320054295, 0.9238795325112864, 0.9351835099389472, 0.9456073253805214, 0.9551411683057707, 0.9637760657954397, 0.9715038909862516, 0.9783173707196274, 0.9842100923869291, 0.989176509964781, 0.9932119492347945, 0.996312612182778, 0.9984755805732947, 0.9996988186962041, 0.9999811752826011, 0.9993223845883495, 0.9977230666441916, 0.9951847266721969, 0.9917097536690996, 0.9873014181578583, 0.9819638691095552, 0.9757021300385287, 0.9685220942744175, 0.9604305194155661, 0.9514350209690088, 0.9415440651830208, 0.9307669610789838, 0.919113851690058, 0.9065957045149158, 0.8932243011955159, 0.8790122264286334, 0.8639728561215868, 0.8481203448032975, 0.8314696123025457, 0.814036329705949, 0.7958369046088845, 0.7768884656732324, 0.7572088465064848, 0.7368165688773703, 0.7157308252838194, 0.693971460889655, 0.6715589548470183, 0.6485144010221126, 0.6248594881423868, 0.6006164793838696, 0.5758081914178462, 0.5504579729366046, 0.524589682678469, 0.4982276669727822, 0.47139673682599825, 0.44412214457043014, 0.41642956009763843, 0.3883450466988262, 0.3598950365349884, 0.33110630575987693, 0.3020059493192289, 0.27262135544995014, 0.24298017990326368, 0.21311031991609147, 0.18303988795514137, 0.15279718525844418, 0.12241067519921726, 0.09190895649713413, 0.06132073630220854, 0.03067480317663691, 6.123233995736766e-16, -0.030674803176635686, -0.061320736302207315, -0.0919089564971329, -0.12241067519921606, -0.15279718525844296, -0.18303988795514017, -0.21311031991609028, -0.24298017990326248, -0.272621355449949, -0.30200594931922775, -0.33110630575987576, -0.3598950365349872, -0.3883450466988251, -0.4164295600976357, -0.4441221445704275, -0.47139673682599564, -0.49822766697278265, -0.5245896826784694, -0.550457972936605, -0.5758081914178452, -0.6006164793838686, -0.6248594881423858, -0.6485144010221117, -0.6715589548470174, -0.6939714608896528, -0.7157308252838173, -0.7368165688773682, -0.7572088465064851, -0.7768884656732328, -0.7958369046088837, -0.8140363297059483, -0.831469612302545, -0.8481203448032969, -0.8639728561215861, -0.8790122264286329, -0.8932243011955145, -0.9065957045149144, -0.9191138516900568, -0.930766961078984, -0.9415440651830209, -0.9514350209690084, -0.9604305194155658, -0.9685220942744172, -0.9757021300385283, -0.981963869109555, -0.9873014181578581, -0.9917097536690993, -0.9951847266721967, -0.9977230666441914, -0.9993223845883495, -0.9999811752826011, -0.9996988186962042, -0.9984755805732948, -0.9963126121827781, -0.9932119492347946, -0.9891765099647811, -0.9842100923869294, -0.978317370719628, -0.9715038909862523, -0.9637760657954396, -0.9551411683057704, -0.9456073253805212, -0.9351835099389475, -0.9238795325112868, -0.9117060320054301, -0.8986744656939543, -0.8847970984309383, -0.8700869911087122, -0.8545579883654015, -0.8382247055548393, -0.8211025149911041, -0.8032075314806445, -0.784556597155575, -0.765167265622459, -0.7450577854414662, -0.7242470829514673, -0.702754744457226, -0.680600997795454, -0.6578066932970799, -0.634393284163647, -0.6103828062763113, -0.5857978574564381, -0.5606615761973355, -0.5349976198870969, -0.5088301425431071, -0.48218377207912305, -0.4550835871263444, -0.427555093430283, -0.39962419984564806, -0.3713171939518391, -0.34266071731199627, -0.3136817403988937, -0.28440753721127093, -0.254865659604514, -0.22508391135979258, -0.19509032201612833, -0.1649131204899703, -0.1345807085071269, -0.10412163387205561, -0.07356456359966879, -0.04293825693494252, -0.012271538285721952, 0.018406729905802468, 0.04906767432741889, 0.07968243797143067, 0.11022220729388328, 0.14065823933284913, 0.1709618887603008, 0.20110463484209115, 0.23105810828067005, 0.2607941179152741, 0.2902846772544607, 0.3195020308160137, 0.34841868024943234, 0.37700741021641904, 0.4052413140049903, 0.4330938188531521, 0.4605387109582399, 0.48755016014843555, 0.514102744193221, 0.540171472729892, 0.565731810783612, 0.5907597018588728, 0.6152315905806252, 0.6391244448637738, 0.6624157775901723, 0.6850836677727007, 0.7071067811865476, 0.7284643904482251, 0.7491363945234589, 0.7691033376455791, 0.7883464276266056, 0.8068475535437983, 0.8245893027850242, 0.8415549774368972, 0.8577286100002708, 0.8730949784182904, 0.8876396204028542, 0.901348847046022, 0.9142097557035306, 0.9262102421383112, 0.9373390119125746, 0.9475855910177408, 0.9569403357322084, 0.9653944416976888, 0.9729399522055596, 0.9795697656854401, 0.9852776423889413, 0.9900582102622971, 0.9939069700023561, 0.9968202992911657, 0.9987954562051724, 0.9998305817958234, 0.9999247018391445, 0.9990777277526455, 0.9972904566786903, 0.9945645707342556, 0.9909026354277799, 0.9863080972445986, 0.9807852804032304, 0.9743393827855759, 0.9669764710448522, 0.9587034748958717, 0.949528180593037, 0.9394592236021904, 0.9285060804732161, 0.9166790599210435, 0.9039892931234443, 0.8904487232447574, 0.8760700941954064, 0.8608669386377672, 0.8448535652497071, 0.828045045257756, 0.8104571982525952, 0.7921065773002129, 0.7730104533627379, 0.7531867990436136, 0.7326542716724143, 0.7114321957452181, 0.6895405447370663, 0.6669999223036371, 0.6438315428897913, 0.6200572117632893, 0.5956993044924337, 0.5707807458869679, 0.5453249884220474, 0.5193559901655908, 0.49289819222978554, 0.465976495767968, 0.4386162385385298, 0.4108431710579032, 0.38268343236508934, 0.35416352542049023, 0.3253102921622631, 0.2961508882436243, 0.2667127574748992, 0.2370236059943683, 0.20711137619222, 0.17700422041215053, 0.14673047445536386, 0.11631863091190721, 0.08579731234443912, 0.0551952443496895, 0.024541228522912174, -0.006135884649154263, -0.03680722294135829, -0.06744391956366319, -0.09801714032955941, -0.12849811079379167, -0.1588581433338596, -0.18906866414980408, -0.21910124015686736, -0.24892760574572087, -0.2785196893850535, -0.307849640041535, -0.33688985339221983, -0.3656129978047733, -0.39399204006104727, -0.42200027079979857, -0.4496113296546052, -0.4767992300633205, -0.5035383837257157, -0.5298036246862925, -0.5555702330196027, -0.5808139580957649, -0.6055110414043255, -0.6296382389149268, -0.6531728429537763, -0.6760927035753153, -0.6983762494089719, -0.7200025079613805, -0.7409511253549578, -0.7612023854842603, -0.7807372285720928, -0.7995372691079055, -0.8175848131515838, -0.83486287498638, -0.851355193105265, -0.8670462455156923, -0.8819212643483546, -0.8959662497561846, -0.9091679830905217, -0.9215140393420411, -0.9329927988347381, -0.9435934581619595, -0.953306040354194, -0.9621214042690417, -0.970031253194544, -0.9770281426577543, -0.9831054874312162, -0.9882575677307494, -0.9924795345987099, -0.9957674144676596, -0.9981181129001491, -0.9995294175010931, -1.0, -0.9995294175010931, -0.9981181129001492, -0.9957674144676598, -0.9924795345987101, -0.9882575677307496, -0.9831054874312165, -0.9770281426577546, -0.9700312531945444, -0.9621214042690421, -0.9533060403541945, -0.94359345816196, -0.9329927988347387, -0.9215140393420419, -0.9091679830905225, -0.8959662497561853, -0.8819212643483554, -0.8670462455156932, -0.851355193105266, -0.834862874986381, -0.8175848131515849, -0.7995372691079066, -0.780737228572094, -0.7612023854842616, -0.740951125354959, -0.7200025079613818, -0.6983762494089732, -0.6760927035753166, -0.6531728429537776, -0.6296382389149282, -0.605511041404327, -0.5808139580957663, -0.5555702330196043, -0.529803624686294, -0.5035383837257172, -0.4767992300633221, -0.4496113296546068, -0.42200027079980024, -0.39399204006104893, -0.365612997804775, -0.33688985339222155, -0.3078496400415367, -0.2785196893850552, -0.24892760574572265, -0.21910124015686916, -0.1890686641498059, -0.15885814333386142, -0.12849811079379347, -0.09801714032956124, -0.06744391956366502, -0.03680722294136013, -0.0061358846491561, 0.024541228522910335, 0.055195244349687665, 0.0857973123444373, 0.11631863091190538, 0.14673047445536205, 0.17700422041214872, 0.2071113761922182, 0.23702360599436653, 0.2667127574748974, 0.2961508882436225, 0.32531029216226137, 0.3541635254204885, 0.3826834323650876, 0.4108431710579015, 0.43861623853852816, 0.4659764957679664, 0.492898192229784, 0.5193559901655892, 0.5453249884220458, 0.5707807458869664, 0.5956993044924322, 0.6200572117632879, 0.6438315428897899, 0.6669999223036357, 0.6895405447370649, 0.7114321957452168, 0.7326542716724129, 0.7531867990436124, 0.7730104533627367, 0.7921065773002118, 0.8104571982525941, 0.8280450452577549, 0.8448535652497061, 0.8608669386377662, 0.8760700941954055, 0.8904487232447567, 0.9039892931234436, 0.9166790599210427, 0.9285060804732155, 0.9394592236021897, 0.9495281805930365, 0.9587034748958713, 0.9669764710448517, 0.9743393827855754, 0.98078528040323, 0.9863080972445982, 0.9909026354277797, 0.9945645707342555, 0.9972904566786902, 0.9990777277526454, 0.9999247018391445, 0.9998305817958234, 0.9987954562051724, 0.9968202992911659, 0.9939069700023563, 0.9900582102622975, 0.9852776423889417, 0.9795697656854404, 0.9729399522055601, 0.9653944416976894, 0.9569403357322089, 0.9475855910177413, 0.9373390119125753, 0.9262102421383118, 0.9142097557035312, 0.9013488470460228, 0.8876396204028549, 0.8730949784182913, 0.8577286100002718, 0.8415549774368982, 0.8245893027850253, 0.8068475535437994, 0.7883464276266067, 0.7691033376455803, 0.7491363945234601, 0.7284643904482263, 0.7071067811865489, 0.685083667772702, 0.6624157775901737, 0.6391244448637753, 0.6152315905806266, 0.5907597018588743, 0.5657318107836135, 0.5401714727298935, 0.5141027441932227, 0.48755016014843716, 0.4605387109582415, 0.4330938188531538, 0.405241314004992, 0.3770074102164207, 0.34841868024943407, 0.31950203081601547, 0.29028467725446244, 0.2607941179152759, 0.23105810828067186, 0.20110463484209296, 0.1709618887603026, 0.14065823933285093, 0.1102222072938851, 0.0796824379714325, 0.04906767432742072, 0.018406729905804307, -0.012271538285720114, -0.04293825693494068, -0.07356456359966695, -0.1041216338720538, -0.13458070850712509, -0.16491312048996848, -0.19509032201612653, -0.22508391135979078, -0.25486565960451224, -0.2844075372112692, -0.3136817403988919, -0.34266071731199454, -0.3713171939518374, -0.39962419984564634, -0.4275550934302813, -0.4550835871263428, -0.48218377207912144, -0.5088301425431054, -0.5349976198870954, -0.5606615761973339, -0.5857978574564365, -0.6103828062763098, -0.6343932841636456, -0.6578066932970785, -0.6806009977954527, -0.7027547444572246, -0.7242470829514661, -0.745057785441465, -0.7651672656224577, -0.7845565971555739, -0.8032075314806434, -0.8211025149911031, -0.8382247055548383, -0.8545579883654005, -0.8700869911087112, -0.8847970984309375, -0.8986744656939535, -0.9117060320054293, -0.9238795325112862, -0.9351835099389469, -0.9456073253805206, -0.95514116830577, -0.9637760657954391, -0.9715038909862519, -0.9783173707196277, -0.984210092386929, -0.9891765099647809, -0.9932119492347944, -0.9963126121827779, -0.9984755805732947, -0.9996988186962041, -0.9999811752826011, -0.9993223845883495, -0.9977230666441915, -0.9951847266721968, -0.9917097536690995, -0.9873014181578584, -0.9819638691095554, -0.9757021300385288, -0.9685220942744176, -0.9604305194155662, -0.951435020969009, -0.9415440651830216, -0.9307669610789847, -0.9191138516900575, -0.9065957045149152, -0.8932243011955153, -0.8790122264286336, -0.8639728561215871, -0.8481203448032978, -0.831469612302546, -0.8140363297059494, -0.7958369046088848, -0.776888465673234, -0.7572088465064863, -0.7368165688773696, -0.7157308252838185, -0.6939714608896541, -0.6715589548470188, -0.6485144010221131, -0.6248594881423872, -0.6006164793838701, -0.5758081914178468, -0.5504579729366066, -0.524589682678471, -0.49822766697278426, -0.47139673682599725, -0.4441221445704291, -0.4164295600976374, -0.38834504669882675, -0.35989503653498894, -0.33110630575987754, -0.3020059493192295, -0.27262135544995075, -0.24298017990326598, -0.2131103199160938, -0.18303988795514373, -0.15279718525844302, -0.12241067519921611, -0.09190895649713297, -0.06132073630220915, -0.030674803176637525};

void complex_abs(const kiss_fft_cpx *buf_in, float *buf_out, int size);

int main(void) {
	int nfft = 1024; //number of points of the fft
	kiss_fft_cfg cfg = kiss_fft_alloc(nfft, 0 ,0, 0); // no inverse fft and allocate
	float out[nfft];

	kiss_fft_cpx cx_in[nfft], cx_out[nfft]; // float type by default
	for (int i = 0; i < nfft; ++i) {
		cx_in[i].r = arr[i];
		cx_in[i].i = 0;
	}
	printf("Loaded\n");
	for (int i = 0; i < 1000; ++i) {
		kiss_fft( cfg , cx_in , cx_out );
		complex_abs(cx_out, out, nfft);
		/* for (int i = 0; i < nfft; ++i) { */
			/* printf("%.3f ", out[i]); */
		/* } */
		printf("i: %d \n", i);
	}
	free(cfg);

}


void complex_abs(const kiss_fft_cpx *buf_in, float *buf_out, int size){
	for (int i = 0; i < size; ++i) {
		buf_out[i] = sqrt(pow(buf_in[i].r, 2) + pow(buf_in[i].i, 2));
	}
}
